탄지로의 스마트 편의점 재고 관리 시스템

📄 프로젝트 개요
이 프로젝트는 24시간 편의점에서 발생하는 고질적인 문제들을 해결하기 위해 코틀린(Kotlin)으로 개발된 콘솔 기반의 스마트 재고 관리 시스템입니다. 컴퓨터소프트웨어공학과 학생인 '탄지로'가 아르바이트를 하며 겪는 현실적인 문제들을 스토리 배경으로 삼아, 프로그래밍을 통해 어떻게 문제를 분석하고 해결책을 구현하는지 그 과정을 보여주는 것을 목표로 합니다.

해결하고자 하는 문제

부정확한 재고 관리: 수기로 재고를 관리하여 인기 상품이 갑자기 품절되는 문제.

체계 없는 유통기한 관리: 유통기한 임박 상품에 대한 명확한 할인 기준이 없어 상품 폐기로 이어지는 문제.

주먹구구식 매출 분석: 어떤 상품이 잘 팔리는지에 대한 데이터가 없어 감과 경험에 의존해 발주하는 문제.

시스템의 솔루션

위 문제들을 해결하기 위해, 이 시스템은 다음과 같은 핵심 기능들을 제공합니다.

실시간 재고 현황 및 자동 발주 알림: 판매 데이터를 반영하여 현재 재고를 계산하고, 설정된 기준(예: 30%) 이하로 떨어진 상품을 자동으로 알려줍니다.

자동화된 유통기한 관리 및 할인 적용: 유통기한이 임박한 상품을 자동으로 찾아내고, 남은 기간에 따라 차등적인 할인율을 적용하여 보고합니다.

데이터 기반의 일일 리포트 생성: 오늘의 총 매출, 상품별 판매량, 베스트셀러 TOP 5, 재고 회전율 등 운영에 필수적인 지표들을 종합하여 하나의 리포트로 출력합니다.

📝 핵심 구현 방법 및 설계 철학
이 시스템은 각 문제 시나리오를 해결하기 위해 코틀린의 주요 기능을 활용하여 체계적으로 설계되었습니다.

1. 시나리오: "어? 새우깡이 벌써 떨어졌네?" (부정확한 재고 관리)

구현 방법: 상품의 모든 정보를 담는 data class Product(Product.kt)를 설계했습니다. 특히 재고를 var stock: Int (판매 후 변하는 현재 재고)와 val initialStock: Int (변하지 않는 초기 재고)로 나누어 정의했습니다. 이 두 값의 비율을 계산하여 재고 부족 여부를 판단하는 로직을 InventoryManager.kt의 printRestockAlerts 함수에 구현했습니다.

Kotlin
// InventoryManager.kt
// 초기 재고 대비 현재 재고 비율을 계산하여 재고 부족 상품만 골라냅니다.
products.filter { it.initialStock > 0 && it.stock.toDouble() / it.initialStock <= stockThresholdRate }

2. 시나리오: "이 도시락들 유통기한이 내일까지네..." (체계 없는 유통기한 관리)

구현 방법: 코틀린의 강력한 기능인 **확장 함수(Extension Function)**를 적극적으로 활용했습니다. ProductExtensions.kt 파일에 Product 클래스를 직접 수정하지 않으면서도 getDaysUntilExpiration() (남은 유통기한 계산), getDiscountRate() (할인율 계산) 등의 스마트 분석 기능을 추가했습니다. 이 함수들은 Main.kt에 정의된 discountPolicy라는 Map 데이터를 참조하여, 정해진 규칙에 따라 정확한 할인율을 계산합니다.

Kotlin
// ProductExtensions.kt
// 'Product' 클래스 자체를 건드리지 않고, 외부에서 유통기한 계산 기능을 추가합니다.
fun Product.getDaysUntilExpiration(): Long? { ... }

3. 시나리오: "이번 주에 뭐가 제일 많이 팔렸나요?" (주먹구구식 매출 분석)

구현 방법: InventoryManager.kt 클래스가 모든 분석 로직을 담당합니다. printDailyBestSellers 함수는 todaySales 데이터를 받아, 판매량(value)을 기준으로 sortedByDescending 함수를 사용하여 정렬한 뒤, 상위 5개(take(5))를 추출하여 베스트셀러 리포트를 생성합니다. printSalesSummary 함수는 모든 판매 기록을 순회하며 총 매출과 상품별 매출을 계산하여 명확한 데이터를 제공합니다.

Kotlin
// InventoryManager.kt
// 판매 기록(Map)을 판매량(value) 기준으로 내림차순 정렬하여 베스트셀러를 찾습니다.
todaySales.entries.sortedByDescending { it.value }.take(5)

4. 확장성 설계: "다른 편의점에서도 사용할 수 있을까?"

구현 방법: 데이터와 로직을 철저히 분리했습니다. Main.kt 파일은 상품 목록, 판매량 등 순수한 데이터만을 담고 있으며, InventoryManager.kt는 이 데이터를 받아 처리하는 엔진 역할을 합니다. 따라서 다른 편의점의 데이터를 Main.kt에 입력하기만 하면, 엔진은 수정 없이 그대로 재사용할 수 있습니다. 또한, AdvancedProduct.kt에 **interface Sellable**을 정의하여, 미래에 추가될 수 있는 어떤 종류의 상품이든 '이름'과 '가격'을 반드시 갖도록 하는 공통의 약속을 만들어 시스템의 안정성과 확장성을 확보했습니다.

💻 시스템 사용 방법
이 프로그램은 Gradle 빌드 시스템을 통해 누구나 쉽게 실행할 수 있습니다.

사전 준비: 컴퓨터에 JDK(Java Development Kit) 11 버전 이상이 설치되어 있어야 합니다.

프로젝트 빌드: IntelliJ 에디터 하단의 Terminal 창을 열고, 아래 명령어를 입력합니다. 이 명령어는 모든 코드를 컴파일하고 실행 가능한 JAR 파일로 패키징합니다.

Bash
./gradlew build
프로그램 실행: 빌드가 성공적으로 완료되면 (BUILD SUCCESSFUL 메시지 확인), 아래 명령어를 입력하여 시스템을 실행합니다.

Bash
java -jar build/libs/convenience-store-system-1.0-SNAPSHOT.jar
결과 확인: 명령어를 실행하면, 터미널 화면에 그날의 모든 운영 현황이 담긴 최종 리포트가 아래와 같은 형식으로 출력됩니다.

🎬 상세 사용 시나리오
배경: 컴퓨터소프트웨어공학과 3학년 탄지로는 하루 동안의 편의점 아르바이트를 마치고 마감 정산을 준비하고 있습니다. 마침 사장님이 들어와 오늘 하루의 성과와 내일 준비할 사항에 대해 묻습니다.

Before: 스마트 시스템이 없었을 때

탄지로는 한숨을 쉬며 수기로 작성된 재고 장부와 POS기 영수증을 번갈아 봅니다. 어떤 상품이 몇 개 나갔는지 일일이 세어보고, 냉장고의 모든 도시락을 꺼내 유통기한을 확인해야 합니다. 사장님은 "내일 새우깡은 얼마나 시켜야 하지?"라고 묻지만, 탄지로는 "어... 어제보다 많이 나간 것 같긴 한데..."라며 어림짐작으로 대답할 수밖에 없습니다.

After: 스마트 시스템을 사용했을 때

탄지로는 자신있게 웃으며 가게 컴퓨터에서 터미널 창을 열고, java -jar ... 명령어를 입력합니다. 단 3초 후, 화면에 모든 분석이 끝난 종합 리포트가 나타납니다.

탄지로는 리포트의 각 항목을 짚어가며 사장님께 명확하게 보고합니다.

(재고 부족 문제 해결): "사장님, 화면의 **'긴급 재고 알림'**을 보시면, **'김치찌개 도시락'**이 3개, **'딸기 샌드위치'**가 2개, **'새우깡'**이 5개 남았다고 나옵니다. 각각 17개, 8개, 25개를 발주해야 한다고 정확히 계산해주네요. 이대로 주문하면 내일 품절될 일은 없을 겁니다."

(유통기한 문제 해결): "그리고 '유통기한 관리' 리포트를 보면, 폐기할 상품은 없습니다. 유통기한이 오늘까지인 **'딸기 샌드위치'**는 자동으로 70% 할인이 적용되었고, 내일이 유통기한인 **'삼각김밥'**도 50% 할인 중입니다."

(매출 분석 문제 해결): "마지막으로 **'베스트셀러 TOP 5'**와 **'매출 현황'**을 보면, 오늘 가장 인기 있었던 상품은 17개가 팔린 **'김치찌개 도시락'**입니다. 오늘 총 매출은 181,400원으로 집계되었습니다."

사장님은 데이터 기반의 빠르고 정확한 보고에 크게 만족하며, 이제 편의점 운영을 감이 아닌 데이터로 할 수 있게 되었다며 기뻐합니다.

// 사용 시나리오
컴퓨터소프트웨어공학과 3학년 탄지로는 하루 동안의 편의점 아르바이트를 마치고 마감 정산을 준비하고 있습니다.
마침 사장님이 들어와 묻습니다. "탄지로군, 오늘 하루 어땠어? 내일 뭐 주문해야 할지랑, 폐기해야 할 도시락은 없는지 한번 봐줘!"

과거의 방식은:
탄지로는 한숨을 쉬며 수기로 작성된 재고 장부를 뒤적이다가 어떤 게 잘 팔렸는지 기억을 더듬고, 냉장고의 모든 도시락을 일일이 꺼내 유통기한을 확인해야 합니다. 
이 과정은 시간이 많이 걸리며, 실수할 가능성도 높습니다.

지금 방식은:
탄지로는 자신있게 웃으며 자신의 맥묵을 꺼내 터미널 창을 엽니다. 
그리고 명령어(java -jar ...)를 입력하고 엔터를 누릅니다.
단 3초 후, 화면에 모든 분석이 끝난 리포트가 나타납니다.
탄지로는 리포트를 보며 사장님께 명확하게 보고하면 이렇게 말했습니다. 

"사장님, 김치찌개 도시락 재고가 3개밖에 남지 않아서 내일 발주해야 합니다. 
딸기 샌드위치도 2개 남아서 발주가 필요해요. 
유통기한이 오늘까지인 딸기 샌드위치는 자동으로 70% 할인이 적용되었고, 내일이 유통기한인 삼각김밥도 50% 할인 중입니다. 
오늘 가장 많이 팔린 상품은 김치찌개 도시락으로 총 17개가 팔렸고, 오늘 총매출은 181,400원입니다!"

사장님은 데이터 기반의 빠르고 정확한 보고에 감탄하며 눈물을 흘렸습니다. 
덕분에 편의점은 재고를 효율적으로 관리하고, 폐기 상품을 줄여 수익을 개선할 수 있게 되었습니다.
탄지로는 여기서 멈추지 않고 점점 실력을 인정 받아 컴퓨터 개발에 흥미를 갖게 되어서 꿈을 펼칠 수 있게 되었습니다. 



